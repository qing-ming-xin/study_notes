# 《设计模式》



### 单一职责原则

单一职责原则：应该有且仅有一个原因引起类的变更（一个责任）。

接口一定要做到单一原则，类的设计尽量做到只有一个原因引起变化。

### 里氏替换原则

所有引用基类的地方必须能透明地使用其子类的对象。（只要父类能出现的地方子类就可以出现，而且替换为子类也不会产生任何错误或异常，使用者可能根本就不需要知道是父类还是子类，但是反过来就不行了，有子类出现的地方，父类未必就能适应）



如果子类不能完整地实现父类的方法， 或者父类的某些方法在子类中已经发生“畸变”， 则建议断开父子继承关系， 采用依赖、 聚集、 组合等关系代替继承。



子类中方法的前置条件必须与超类中被覆写的方法的前置条件相同或者更宽松



覆写或实现父类的方法时，输出结果可以被缩小（小于等于父类）



采用里氏替换原则的目的是增强程序的健壮性



### 依赖倒置原则



定义：

- 高层模块不应该依赖底层模块，两者都应该依赖其抽象
- 抽象不应该依赖细节
- 细节应该依赖抽象



采用依赖倒置原则可以减少类间的耦合性，提高系统的稳定性，降低并行开发引起的风险，提高代码的可读性和可维护性。



对象的依赖关系有三种方式来传递：

- 构造函数传递依赖对象
-  setter方法传递依赖对象
- 接口声明依赖对象



依赖倒置原则的本质：通过抽象使各个类或模块的实现彼此独立。需遵循以下几个规则：

- 每个类尽量都有接口或抽象类
- 变量的表面类型尽量是接口或者抽象类
- **任何类后不应该从具体类派生**
- 尽量不要覆写基类的方法
- 结合里氏替换原则使用
  - 接口负责定义public属性和方法，并且声明与其他对象的依赖关系，抽象类负责公共构造部分的是实现



### 接口隔离原则

建立单一接口，不要建立臃肿庞大的接口------接口尽量细化，同时接口中的方法尽量少。



根据接口隔离原则拆分接口时，首先必须满足单一职责原则。



接口要高内聚（提高接口、类、模块的处理能力，减少对外的交互）